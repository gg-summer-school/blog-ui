<app-navbar></app-navbar>


<div class="container-fluid mt-5">
  <div class="row coverPage">
    <div class="col-md-3 mt-lg-3">
      <div class="image">
        <img src="{{article.coverPage}}" alt="article coverPage image" height="350px" width="250px" />
      </div>
      <hr>
      <div>
        <h5 class="label1">Follow the Author</h5>
        <h6 class="label1"><label router-link="/user-profile">Mike Shel</label></h6>
        <h6 class="label1"><label>mikeshel@gmail.com</label></h6>
      </div>
    </div>
    <div class="col-md-9">
      <div class="row mt-4">
        <div class="col-9">
          <h6 class="label">{{article.title}} <br>
            <p router-link="/user-profile">By Mike Shel | <span>Category: {{article.categoryName}}</span>
              <br>
              <small>Book 1 of 5</small>
            </p>
          </h6>
          <hr>

          <div class="price">
            <small class="pdf">Document(PDF format)</small><br>
            XCFA {{article.price}}
          </div>
          <div class="mt-4 ">
            <p class="articleAbstract">{{article.articleAbstract}} <br>
              <small class="readmore">Read more</small>
            </p>
          </div>
          <div class="mt-4 ">
            <p class="articleAbstract">{{article.toc}} <br>
              <small class="readmore">Read more</small>
            </p>
          </div>
          <hr>
        </div>
      </div>
    </div>
    <div class="col-md-1">
    </div>
  </div>
</div>

<!-- payment form -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Fill details to make Payment</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form [formGroup]="paymentForm" (ngSubmit)="submitPayment()">
        <div class="modal-body">
          <div class="form-group mb-2">
            <label>Article Title:</label>
            <input formControlName="nameOfArticle" class="form-control" required />
          </div>
          <div class="form-group mb-2">
            <label>Account Number:</label>
            <input formControlName="accountNumber" class="form-control" required />

          </div>
        </div>
        <div class="modal-footer mt-4">
          <button type="submit" class="btn btn-primary btn-sm" data-bs-dismiss="modal">Make Payment</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Modal for users with no account-->
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5>Please register to read Article</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="form-items">
        <div class="modal-body">
          <div class="form-group ">
            <label>Name</label>
            <input type="text" formControlName="name" class="form-control" required />
          </div>
          <div class="form-group mt-2">
            <label>Email</label>
            <input type="email" formControlName="email" class="form-control" required />
          </div>
          <div class="form-group mt-2">
            <label>Password</label>
            <input type="password" formControlName="password" class="form-control" required />
          </div>
          <div class="form-group mt-2">
            <label>Choose role</label>
            <select [(ngModel)]="role" class="form-select" required formControlName="role">
              <option value="USER">User</option>
              <option value="PUBLISHER">Publisher</option>
            </select>
          </div>
        </div>
        <div class="modal-footer mt-4">
          <button type="submit" id="payment" class="btn btn-primary text-white btn-sm" data-bs-dismiss="modal">Create
            Account</button>
        </div>
      </form>
    </div>
  </div>