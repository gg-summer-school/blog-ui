<div class="row">
  <div class="col-md-2 " >
    <app-sidebar></app-sidebar>
  </div>

  <div class="col-md-10" >
    <br>
    <div style="text-align: right">
      <app-status></app-status>
    </div>

  <div class="col-md-10">
    <!-- View reason Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" *ngIf="pub">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="exampleModalLabel" style="color:indigo;">Publisher's reason</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>{{pub.reason}}</p>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <h5 *ngIf="!publishers.length" class="form-text">Oops!! No publishers are available yet.</h5>
    <table class="table table-borderless table-responsive" *ngIf="publishers.length" >
      <thead>
      <tr>
        <th scope="col"><b>{{'PublisherAdmin.Publisher'| translate }} ({{number}})</b></th>
        <th scope="col">{{'PublisherAdmin.Email'| translate }}</th>
        <th scope="col">Action</th>
      </tr>
      </thead>
      <tbody *ngFor="let publisher of publishers | paginate
              : {
                  itemsPerPage: tableSize,
                  currentPage: page,
                  totalItems: count
                }">
      <br>
      <tr >
        <td>{{ publisher.name }}</td>
        <td>{{ publisher.email }}</td>
        <td>
          <i (click)="view(publisher)" class="fas fa-info" data-bs-toggle="modal" data-bs-target="#exampleModal" title="View reason" style="color: indigo; cursor: pointer" ></i>&nbsp;&nbsp;&nbsp;
          <button (click)="suspendPublisher(publisher.id)" *ngIf="publisher.active" class="btn btn-danger">{{'PublisherAdmin.Suspend'| translate }}</button>&nbsp;
          <button (click)="reactivateUser(publisher.id)" *ngIf="!publisher.active"  class="btn btn-success">{{'PublisherAdmin.Reactivate'| translate }}</button>&nbsp;
        </td>

      </tr>
      </tbody>
    </table>
    <pagination-controls
      *ngIf="publishers.length"
      previousLabel="Prev"
      nextLabel="Next"
      (pageChange)="onTableDataChange($event)"
    >
    </pagination-controls>

<!-- Modal to block and suspend publisher -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel"><span *ngIf="isBlocked">Block</span> <span
            *ngIf="isSuspended">Suspend</span> "User Name"</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to <span *ngIf="isBlocked">block</span> <span *ngIf="isSuspended">suspend</span> this
        user?
      </div>
      <div class="modal-footer">
        <!--Block publisher-->
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cancel</button>
        <button *ngIf="isBlocked" type="button" class="btn btn-danger">Block</button>
        <!--suspend publisher-->
        <button *ngIf="isSuspended" type="button" class="btn btn-danger">Suspend</button>
      </div>
    </div>
  </div>
</div>
    <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
      <p style="color: white">Please Wait.</p>
    </ngx-spinner>

<br>
